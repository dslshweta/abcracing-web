{"ast":null,"code":"var _jsxFileName = \"/var/www/html/abcracing-web/common/routeGuards/LoginRequired/LoginRequired.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getAuthUser } from '../../../redux/actions/user';\n\nfunction LoginRequired({\n  children,\n  user,\n  login,\n  getAuthUser: _getAuthUser\n}) {\n  const router = useRouter();\n  const {\n    isFetching,\n    info\n  } = user;\n  useEffect(() => {\n    if (!login.info.access_token) {\n      router.push('/login');\n    }\n  }, [login.info]);\n  useEffect(() => {\n    _getAuthUser();\n  }, []);\n\n  if (isFetching || !info) {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }, children);\n}\n\nLoginRequired.propTypes = {\n  children: PropTypes.element.isRequired,\n  user: PropTypes.object.isRequired,\n  login: PropTypes.object.isRequired,\n  getAuthUser: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps({\n  user,\n  login\n}) {\n  return {\n    user,\n    login\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getAuthUser\n})(LoginRequired);","map":{"version":3,"sources":["/var/www/html/abcracing-web/common/routeGuards/LoginRequired/LoginRequired.jsx"],"names":["useRouter","useEffect","PropTypes","connect","getAuthUser","LoginRequired","children","user","login","_getAuthUser","router","isFetching","info","access_token","push","propTypes","element","isRequired","object","func","mapStateToProps"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,6BAA5B;;AAEA,SAASC,aAAT,CAAuB;AACrBC,EAAAA,QADqB;AACXC,EAAAA,IADW;AACLC,EAAAA,KADK;AACEJ,EAAAA,WAAW,EAAEK;AADf,CAAvB,EAEG;AACD,QAAMC,MAAM,GAAGV,SAAS,EAAxB;AACA,QAAM;AAAEW,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAuBL,IAA7B;AACAN,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACO,KAAK,CAACI,IAAN,CAAWC,YAAhB,EAA8B;AAC5BH,MAAAA,MAAM,CAACI,IAAP,CAAY,QAAZ;AACD;AACF,GAJQ,EAIN,CAACN,KAAK,CAACI,IAAP,CAJM,CAAT;AAMAX,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAIE,UAAU,IAAI,CAACC,IAAnB,EAAyB;AACvB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AACD,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMN,QAAN,CAAR;AACD;;AAEDD,aAAa,CAACU,SAAd,GAA0B;AACxBT,EAAAA,QAAQ,EAAEJ,SAAS,CAACc,OAAV,CAAkBC,UADJ;AAExBV,EAAAA,IAAI,EAAEL,SAAS,CAACgB,MAAV,CAAiBD,UAFC;AAGxBT,EAAAA,KAAK,EAAEN,SAAS,CAACgB,MAAV,CAAiBD,UAHA;AAIxBb,EAAAA,WAAW,EAAEF,SAAS,CAACiB,IAAV,CAAeF;AAJJ,CAA1B;;AAOA,SAASG,eAAT,CAAyB;AAAEb,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAzB,EAA0C;AACxC,SAAO;AAAED,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAP;AACD;;AACD,eAAeL,OAAO,CAACiB,eAAD,EAAkB;AAAEhB,EAAAA;AAAF,CAAlB,CAAP,CAA0CC,aAA1C,CAAf","sourcesContent":["import { useRouter } from 'next/router';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getAuthUser } from '../../../redux/actions/user';\n\nfunction LoginRequired({\n  children, user, login, getAuthUser: _getAuthUser,\n}) {\n  const router = useRouter();\n  const { isFetching, info } = user;\n  useEffect(() => {\n    if (!login.info.access_token) {\n      router.push('/login');\n    }\n  }, [login.info]);\n\n  useEffect(() => {\n    _getAuthUser();\n  }, []);\n\n  if (isFetching || !info) {\n    return <div>Loading...</div>;\n  }\n  return (<div>{children}</div>);\n}\n\nLoginRequired.propTypes = {\n  children: PropTypes.element.isRequired,\n  user: PropTypes.object.isRequired,\n  login: PropTypes.object.isRequired,\n  getAuthUser: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps({ user, login }) {\n  return { user, login };\n}\nexport default connect(mapStateToProps, { getAuthUser })(LoginRequired);\n"]},"metadata":{},"sourceType":"module"}