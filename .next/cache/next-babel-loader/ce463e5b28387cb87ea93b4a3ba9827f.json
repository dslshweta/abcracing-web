{"ast":null,"code":"var _jsxFileName = \"/var/www/html/abcracing-web/common/routeGuards/LoginRequired/LoginRequired.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getAuthUser } from '../../../redux/actions/user';\n\nfunction LoginRequired(_ref) {\n  var children = _ref.children,\n      user = _ref.user,\n      login = _ref.login,\n      _getAuthUser = _ref.getAuthUser;\n  var router = useRouter();\n  var isFetching = user.isFetching,\n      info = user.info;\n  useEffect(function () {\n    if (!login.info.access_token) {\n      router.push('/login');\n    }\n  }, [login.info]);\n  useEffect(function () {\n    _getAuthUser();\n  }, []);\n\n  if (isFetching || !info) {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }, children);\n}\n\nLoginRequired.propTypes = {\n  children: PropTypes.element.isRequired,\n  user: PropTypes.object.isRequired,\n  login: PropTypes.object.isRequired,\n  getAuthUser: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(_ref2) {\n  var user = _ref2.user,\n      login = _ref2.login;\n  return {\n    user: user,\n    login: login\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getAuthUser: getAuthUser\n})(LoginRequired);","map":{"version":3,"sources":["/var/www/html/abcracing-web/common/routeGuards/LoginRequired/LoginRequired.jsx"],"names":["useRouter","useEffect","PropTypes","connect","getAuthUser","LoginRequired","children","user","login","_getAuthUser","router","isFetching","info","access_token","push","propTypes","element","isRequired","object","func","mapStateToProps"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,6BAA5B;;AAEA,SAASC,aAAT,OAEG;AAAA,MADDC,QACC,QADDA,QACC;AAAA,MADSC,IACT,QADSA,IACT;AAAA,MADeC,KACf,QADeA,KACf;AAAA,MADmCC,YACnC,QADsBL,WACtB;AACD,MAAMM,MAAM,GAAGV,SAAS,EAAxB;AADC,MAEOW,UAFP,GAE4BJ,IAF5B,CAEOI,UAFP;AAAA,MAEmBC,IAFnB,GAE4BL,IAF5B,CAEmBK,IAFnB;AAGDX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACO,KAAK,CAACI,IAAN,CAAWC,YAAhB,EAA8B;AAC5BH,MAAAA,MAAM,CAACI,IAAP,CAAY,QAAZ;AACD;AACF,GAJQ,EAIN,CAACN,KAAK,CAACI,IAAP,CAJM,CAAT;AAMAX,EAAAA,SAAS,CAAC,YAAM;AACdQ,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAIE,UAAU,IAAI,CAACC,IAAnB,EAAyB;AACvB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AACD,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMN,QAAN,CAAR;AACD;;AAEDD,aAAa,CAACU,SAAd,GAA0B;AACxBT,EAAAA,QAAQ,EAAEJ,SAAS,CAACc,OAAV,CAAkBC,UADJ;AAExBV,EAAAA,IAAI,EAAEL,SAAS,CAACgB,MAAV,CAAiBD,UAFC;AAGxBT,EAAAA,KAAK,EAAEN,SAAS,CAACgB,MAAV,CAAiBD,UAHA;AAIxBb,EAAAA,WAAW,EAAEF,SAAS,CAACiB,IAAV,CAAeF;AAJJ,CAA1B;;AAOA,SAASG,eAAT,QAA0C;AAAA,MAAfb,IAAe,SAAfA,IAAe;AAAA,MAATC,KAAS,SAATA,KAAS;AACxC,SAAO;AAAED,IAAAA,IAAI,EAAJA,IAAF;AAAQC,IAAAA,KAAK,EAALA;AAAR,GAAP;AACD;;AACD,eAAeL,OAAO,CAACiB,eAAD,EAAkB;AAAEhB,EAAAA,WAAW,EAAXA;AAAF,CAAlB,CAAP,CAA0CC,aAA1C,CAAf","sourcesContent":["import { useRouter } from 'next/router';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getAuthUser } from '../../../redux/actions/user';\n\nfunction LoginRequired({\n  children, user, login, getAuthUser: _getAuthUser,\n}) {\n  const router = useRouter();\n  const { isFetching, info } = user;\n  useEffect(() => {\n    if (!login.info.access_token) {\n      router.push('/login');\n    }\n  }, [login.info]);\n\n  useEffect(() => {\n    _getAuthUser();\n  }, []);\n\n  if (isFetching || !info) {\n    return <div>Loading...</div>;\n  }\n  return (<div>{children}</div>);\n}\n\nLoginRequired.propTypes = {\n  children: PropTypes.element.isRequired,\n  user: PropTypes.object.isRequired,\n  login: PropTypes.object.isRequired,\n  getAuthUser: PropTypes.func.isRequired,\n};\n\nfunction mapStateToProps({ user, login }) {\n  return { user, login };\n}\nexport default connect(mapStateToProps, { getAuthUser })(LoginRequired);\n"]},"metadata":{},"sourceType":"module"}