{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { getAuthUser } from '../../../redux/actions/user';\n\nfunction LoginRequired(_ref) {\n  var children = _ref.children,\n      user = _ref.user,\n      login = _ref.login,\n      _getAuthUser = _ref.getAuthUser;\n  var router = useRouter();\n  var isFetching = user.isFetching,\n      info = user.info;\n  useEffect(function () {\n    if (!login.info.access_token) {\n      router.push('/login');\n    }\n  }, [login.info]);\n  useEffect(function () {\n    _getAuthUser();\n  }, []);\n\n  if (isFetching || !info) {\n    return __jsx(\"div\", null, \"Loading...\");\n  }\n\n  return __jsx(\"div\", null, children);\n}\n\nfunction mapStateToProps(_ref2) {\n  var user = _ref2.user,\n      login = _ref2.login;\n  return {\n    user: user,\n    login: login\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getAuthUser: getAuthUser\n})(LoginRequired);","map":null,"metadata":{},"sourceType":"module"}