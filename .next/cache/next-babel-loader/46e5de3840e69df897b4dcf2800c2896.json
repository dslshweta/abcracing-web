{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { getAuthUser } from '../../../redux/actions/user';\n\nfunction LoginRequired({\n  children,\n  user,\n  login,\n  getAuthUser: _getAuthUser\n}) {\n  const router = useRouter();\n  const {\n    isFetching,\n    info\n  } = user;\n  useEffect(() => {\n    if (!login.info.access_token) {\n      router.push('/login');\n    }\n  }, [login.info]);\n  useEffect(() => {\n    _getAuthUser();\n  }, []);\n\n  if (isFetching || !info) {\n    return __jsx(\"div\", null, \"Loading...\");\n  }\n\n  return __jsx(\"div\", null, children);\n}\n\nfunction mapStateToProps({\n  user,\n  login\n}) {\n  return {\n    user,\n    login\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getAuthUser\n})(LoginRequired);","map":null,"metadata":{},"sourceType":"module"}