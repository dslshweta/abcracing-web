{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"/var/www/html/abcracing-web/common/hocs/withLogoutOnRefersh/withLogoutOnReferesh.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { logoutUser as logoutUserAction } from '../../../redux/actions/user';\n\nfunction withLogoutOnReferesh(Component) {\n  function ComponentWithLogoutReferesh(props) {\n    var logoutUser = function logoutUser() {\n      props.logoutUserAction();\n    };\n\n    var bindEvents = function bindEvents() {\n      window.addEventListener('popstate', logoutUser, false);\n      window.addEventListener('beforeunload', logoutUser);\n    };\n\n    var unbindEvents = function unbindEvents() {\n      window.removeEventListener('popstate', logoutUser);\n      window.removeEventListener('beforeunload', logoutUser);\n    };\n\n    useEffect(function () {\n      bindEvents();\n      return unbindEvents;\n    }, []);\n    return __jsx(Component, _extends({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  ComponentWithLogoutReferesh.propTypes = {\n    logoutUserAction: PropTypes.func.isRequired\n  };\n  return connect(null, {\n    logoutUserAction: logoutUserAction\n  })(ComponentWithLogoutReferesh);\n}\n\nexport default withLogoutOnReferesh;","map":{"version":3,"sources":["/var/www/html/abcracing-web/common/hocs/withLogoutOnRefersh/withLogoutOnReferesh.jsx"],"names":["useEffect","connect","PropTypes","logoutUser","logoutUserAction","withLogoutOnReferesh","Component","ComponentWithLogoutReferesh","props","bindEvents","window","addEventListener","unbindEvents","removeEventListener","propTypes","func","isRequired"],"mappings":";;;;AACA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAU,IAAIC,gBAAvB,QAA+C,6BAA/C;;AAEA,SAASC,oBAAT,CAA8BC,SAA9B,EAAyC;AACvC,WAASC,2BAAT,CAAqCC,KAArC,EAA4C;AAC1C,QAAML,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBK,MAAAA,KAAK,CAACJ,gBAAN;AACD,KAFD;;AAIA,QAAMK,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoCR,UAApC,EAAgD,KAAhD;AACAO,MAAAA,MAAM,CAACC,gBAAP,CAAwB,cAAxB,EAAwCR,UAAxC;AACD,KAHD;;AAKA,QAAMS,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBF,MAAAA,MAAM,CAACG,mBAAP,CAA2B,UAA3B,EAAuCV,UAAvC;AACAO,MAAAA,MAAM,CAACG,mBAAP,CAA2B,cAA3B,EAA2CV,UAA3C;AACD,KAHD;;AAKAH,IAAAA,SAAS,CAAC,YAAM;AACdS,MAAAA,UAAU;AACV,aAAOG,YAAP;AACD,KAHQ,EAGN,EAHM,CAAT;AAIA,WAAQ,MAAC,SAAD,eAAeJ,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAR;AACD;;AAEDD,EAAAA,2BAA2B,CAACO,SAA5B,GAAwC;AACtCV,IAAAA,gBAAgB,EAAEF,SAAS,CAACa,IAAV,CAAeC;AADK,GAAxC;AAIA,SAAOf,OAAO,CAAC,IAAD,EAAO;AAAEG,IAAAA,gBAAgB,EAAhBA;AAAF,GAAP,CAAP,CAAoCG,2BAApC,CAAP;AACD;;AAED,eAAeF,oBAAf","sourcesContent":["\nimport { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { logoutUser as logoutUserAction } from '../../../redux/actions/user';\n\nfunction withLogoutOnReferesh(Component) {\n  function ComponentWithLogoutReferesh(props) {\n    const logoutUser = () => {\n      props.logoutUserAction();\n    };\n\n    const bindEvents = () => {\n      window.addEventListener('popstate', logoutUser, false);\n      window.addEventListener('beforeunload', logoutUser);\n    };\n\n    const unbindEvents = () => {\n      window.removeEventListener('popstate', logoutUser);\n      window.removeEventListener('beforeunload', logoutUser);\n    };\n\n    useEffect(() => {\n      bindEvents();\n      return unbindEvents;\n    }, []);\n    return (<Component {...props} />);\n  }\n\n  ComponentWithLogoutReferesh.propTypes = {\n    logoutUserAction: PropTypes.func.isRequired,\n  };\n\n  return connect(null, { logoutUserAction })(ComponentWithLogoutReferesh);\n}\n\nexport default withLogoutOnReferesh;\n"]},"metadata":{},"sourceType":"module"}